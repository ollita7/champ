"use strict";(self.webpackChunktopology_app=self.webpackChunktopology_app||[]).push([[779],{7904:function(e,t,n){n.r(t),n.d(t,{Document:function(){return ae},Outline:function(){return me},Page:function(){return Ve},pdfjs:function(){return r}});var r=n(1247),o=n(7462),a=n(5987),i=n(1002),c=n(5671),u=n(3144),s=n(7326),l=n(136),f=n(2963),p=n(1120),d=n(4942),g=n(7294),h=n(5697),v=n.n(h),y=n(4845),m=n(8094),Z=n(6010),R=n(8776),b=n(5298),k=(0,g.createContext)(null);function E(e){var t=e.children,n=e.type;return g.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(n)},t)}E.propTypes={children:v().node,type:v().oneOf(["error","loading","no-data"]).isRequired};var P=function(){function e(){(0,c.Z)(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return(0,u.Z)(e,[{key:"setDocument",value:function(e){this.pdfDocument=e}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setExternalLinkRel",value:function(e){this.externalLinkRel=e}},{key:"setExternalLinkTarget",value:function(e){this.externalLinkTarget=e}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:function(e){var t=this;new Promise((function(n){"string"==typeof e?t.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)})).then((function(n){(0,R.Z)(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var r=n[0];new Promise((function(e){r instanceof Object?t.pdfDocument.getPageIndex(r).then((function(t){e(t)})).catch((function(){(0,R.Z)(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"==typeof r?e(r):(0,R.Z)(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(n){var r=n+1;(0,R.Z)(r>=1&&r<=t.pagesCount,'"'.concat(r,'" is not a valid page number.')),t.pdfViewer.scrollPageIntoView({dest:e,pageIndex:n,pageNumber:r})}))}))}},{key:"navigateTo",value:function(e){this.goToDestination(e)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),e}(),w={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},x=n(885),O="undefined"!=typeof document,S=O&&"file:"===window.location.protocol;function L(e){return void 0!==e}function T(e){return L(e)&&null!==e}function C(e){return e instanceof ArrayBuffer}function D(e){return(0,R.Z)(O,"isBlob can only be used in a browser environment"),e instanceof Blob}function A(e){return(0,R.Z)(O,"isFile can only be used in a browser environment"),e instanceof File}function j(e){return"string"==typeof e&&/^data:/.test(e)}function N(e){(0,R.Z)(j(e),"Invalid data URI.");var t=e.split(","),n=(0,x.Z)(t,2),r=n[0],o=n[1];return-1!==r.split(";").indexOf("base64")?atob(o):unescape(o)}var I="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function _(){(0,b.Z)(!S,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(I))}function B(e){e&&e.cancel&&e.cancel()}function F(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function M(e){return"RenderingCancelledException"===e.name}function V(e){return new Promise((function(t,n){var r=new FileReader;return r.onload=function(){return t(new Uint8Array(r.result))},r.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case e.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e),null}))}var q,G=n(2982),U=(q={},[].concat((0,G.Z)(y.ag),(0,G.Z)(y.wx),(0,G.Z)(y.vS)).forEach((function(e){q[e]=v().func})),q),H=[v().string,v().instanceOf(ArrayBuffer),v().shape({data:v().oneOfType([v().object,v().string]),httpHeaders:v().object,range:v().object,url:v().string,withCredentials:v().bool})];"undefined"!=typeof File&&H.push(v().instanceOf(File)),"undefined"!=typeof Blob&&H.push(v().instanceOf(Blob));var W=v().oneOfType([v().string,v().arrayOf(v().string)]),K=v().oneOfType(H),Y=v().instanceOf(P),z=(v().oneOf(["_self","_blank","_parent","_top"]),v().shape({commonObjs:v().shape({}).isRequired,getAnnotations:v().func.isRequired,getTextContent:v().func.isRequired,getViewport:v().func.isRequired,render:v().func.isRequired})),J=v().oneOfType([v().shape({getDestination:v().func.isRequired,getOutline:v().func.isRequired,getPage:v().func.isRequired,numPages:v().number.isRequired}),v().bool]),Q=v().oneOfType([v().func,v().shape({current:v().any})]),X=v().oneOf(["canvas","none","svg"]),$=v().oneOf([0,90,180,270]),ee=["url"];function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var oe=r.PDFDataRangeTransport,ae=function(e){(0,l.Z)(n,e);var t=re(n);function n(){var e;(0,c.Z)(this,n);for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return e=t.call.apply(t,[this].concat(u)),(0,d.Z)((0,s.Z)(e),"state",{pdf:null}),(0,d.Z)((0,s.Z)(e),"viewer",{scrollPageIntoView:function(t){var n=t.dest,r=t.pageIndex,o=t.pageNumber,a=e.props.onItemClick;if(a)a({dest:n,pageIndex:r,pageNumber:o});else{var i=e.pages[r];i?i.scrollIntoView():(0,b.Z)(!1,"An internal link leading to page ".concat(o," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}}),(0,d.Z)((0,s.Z)(e),"linkService",new P),(0,d.Z)((0,s.Z)(e),"loadDocument",(function(){B(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var t=(0,m.Z)(e.findDocumentSource());e.runningTask=t,t.promise.then((function(t){if(e.onSourceSuccess(),t){e.setState((function(e){return e.pdf?{pdf:null}:null}));var n=e.props,o=n.options,a=n.onLoadProgress,i=n.onPassword,c=r.getDocument(ne(ne({},t),o));c.onPassword=i,a&&(c.onProgress=a),e.loadingTask=c,c.promise.then((function(t){e.setState((function(e){return e.pdf&&e.pdf.fingerprint===t.fingerprint?null:{pdf:t}}),e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))}})).catch((function(t){e.onSourceError(t)}))})),(0,d.Z)((0,s.Z)(e),"setupLinkService",(function(){var t=e.props,n=t.externalLinkRel,r=t.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(n),e.linkService.setExternalLinkTarget(r)})),(0,d.Z)((0,s.Z)(e),"onSourceSuccess",(function(){var t=e.props.onSourceSuccess;t&&t()})),(0,d.Z)((0,s.Z)(e),"onSourceError",(function(t){(0,b.Z)(t);var n=e.props.onSourceError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.pdf;t&&t(n),e.pages=new Array(n.numPages),e.linkService.setDocument(n)})),(0,d.Z)((0,s.Z)(e),"onLoadError",(function(t){e.setState({pdf:!1}),(0,b.Z)(t);var n=e.props.onLoadError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"findDocumentSource",(function(){return new Promise((function(t){var n=e.props.file;if(n||t(null),"string"==typeof n){if(j(n)){var r=N(n);t({data:r})}_(),t({url:n})}if(n instanceof oe&&t({range:n}),C(n)&&t({data:n}),O&&(D(n)||A(n)))V(n).then((function(e){t({data:e})}));else{if((0,R.Z)("object"===(0,i.Z)(n),"Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,R.Z)(n.url||n.data||n.range,"Invalid parameter object: need either .data, .range or .url"),"string"==typeof n.url){if(j(n.url)){var o=n.url,c=(0,a.Z)(n,ee),u=N(o);t(ne({data:u},c))}_()}t(n)}}))})),(0,d.Z)((0,s.Z)(e),"registerPage",(function(t,n){e.pages[t]=n})),(0,d.Z)((0,s.Z)(e),"unregisterPage",(function(t){delete e.pages[t]})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){B(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var e=this.linkService,t=this.registerPage,n=this.unregisterPage,r=this.props,o=r.imageResourcesPath,a=r.renderMode,i=r.rotate;return{imageResourcesPath:o,linkService:e,pdf:this.state.pdf,registerPage:t,renderMode:a,rotate:i,unregisterPage:n}}},{key:"eventProps",get:function(){var e=this;return(0,y.ZP)(this.props,(function(){return e.state.pdf}))}},{key:"renderChildren",value:function(){var e=this.props.children;return g.createElement(k.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,t=this.state.pdf;if(!e){var n=this.props.noData;return g.createElement(E,{type:"no-data"},"function"==typeof n?n():n)}if(null===t){var r=this.props.loading;return g.createElement(E,{type:"loading"},"function"==typeof r?r():r)}if(!1===t){var o=this.props.error;return g.createElement(E,{type:"error"},"function"==typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef;return g.createElement("div",(0,o.Z)({className:(0,Z.Z)("react-pdf__Document",t),ref:n},this.eventProps),this.renderContent())}}]),n}(g.PureComponent);ae.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(e,t){switch(t){case w.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case w.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."))}}};var ie=v().oneOfType([v().func,v().node]);ae.propTypes=ne(ne({},U),{},{children:v().node,className:W,error:ie,externalLinkRel:v().string,externalLinkTarget:v().string,file:K,imageResourcesPath:v().string,inputRef:Q,loading:ie,noData:ie,onItemClick:v().func,onLoadError:v().func,onLoadProgress:v().func,onLoadSuccess:v().func,onPassword:v().func,onSourceError:v().func,onSourceSuccess:v().func,rotate:v().number});var ce=(0,g.createContext)(null),ue=function(){function e(t){var n=t.num,r=t.gen;(0,c.Z)(this,e),this.num=n,this.gen=r}return(0,u.Z)(e,[{key:"toString",value:function(){var e="".concat(this.num,"R");return 0!==this.gen&&(e+=this.gen),e}}]),e}(),se=["item"];function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var fe=function(e){(0,l.Z)(n,e);var t=le(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"getDestination",(function(){return new Promise((function(t,n){if(L(e.destination))t(e.destination);else{var r=e.props,o=r.item,a=r.pdf;"string"==typeof o.dest?a.getDestination(o.dest).then(t).catch(n):t(o.dest)}})).then((function(t){return e.destination=t,t}))})),(0,d.Z)((0,s.Z)(e),"getPageIndex",(function(){return new Promise((function(t,n){var r=e.props.pdf;L(e.pageIndex)?t(e.pageIndex):e.getDestination().then((function(e){if(e){var o=(0,x.Z)(e,1)[0];r.getPageIndex(new ue(o)).then(t).catch(n)}}))})).then((function(t){return e.pageIndex=t,e.pageIndex}))})),(0,d.Z)((0,s.Z)(e),"getPageNumber",(function(){return new Promise((function(t,n){L(e.pageNumber)?t(e.pageNumber):e.getPageIndex().then((function(e){t(e+1)})).catch(n)})).then((function(t){return e.pageNumber=t,t}))})),(0,d.Z)((0,s.Z)(e),"onClick",(function(t){var n=e.props.onClick;return t.preventDefault(),!!n&&Promise.all([e.getDestination(),e.getPageIndex(),e.getPageNumber()]).then((function(e){var t=(0,x.Z)(e,3),r=t[0],o=t[1],a=t[2];n({dest:r,pageIndex:o,pageNumber:a})}))})),e}return(0,u.Z)(n,[{key:"renderSubitems",value:function(){var e=this.props,t=e.item,r=(0,a.Z)(e,se);if(!t.items||!t.items.length)return null;var i=t.items;return g.createElement("ul",null,i.map((function(e,t){return g.createElement(n,(0,o.Z)({key:"string"==typeof e.destination?e.destination:t,item:e},r))})))}},{key:"render",value:function(){var e=this.props.item;return g.createElement("li",null,g.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),n}(g.PureComponent),pe=v().oneOfType([v().string,v().arrayOf(v().any)]);fe.propTypes={item:v().shape({dest:pe,items:v().arrayOf(v().shape({dest:pe,title:v().string})),title:v().string}).isRequired,onClick:v().func,pdf:J.isRequired};var de=function(e){return g.createElement(k.Consumer,null,(function(t){return g.createElement(ce.Consumer,null,(function(n){return g.createElement(fe,(0,o.Z)({},t,n,e))}))}))};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var ve=function(e){(0,l.Z)(n,e);var t=he(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"state",{outline:null}),(0,d.Z)((0,s.Z)(e),"loadOutline",(function(){var t=e.props.pdf;e.setState((function(e){return e.outline?{outline:null}:null}));var n=(0,m.Z)(t.getOutline());e.runningTask=n,n.promise.then((function(t){e.setState({outline:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),(0,d.Z)((0,s.Z)(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.outline;t&&t(n)})),(0,d.Z)((0,s.Z)(e),"onLoadError",(function(t){e.setState({outline:!1}),(0,b.Z)(t);var n=e.props.onLoadError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"onItemClick",(function(t){var n=t.dest,r=t.pageIndex,o=t.pageNumber,a=e.props.onItemClick;a&&a({dest:n,pageIndex:r,pageNumber:o})})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.pdf;(0,R.Z)(e,"Attempted to load an outline, but no document was specified."),this.loadOutline()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;e.pdf&&t!==e.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){B(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var e=this;return(0,y.ZP)(this.props,(function(){return e.state.outline}))}},{key:"renderOutline",value:function(){var e=this.state.outline;return g.createElement("ul",null,e.map((function(e,t){return g.createElement(de,{key:"string"==typeof e.destination?e.destination:t,item:e})})))}},{key:"render",value:function(){var e=this.props.pdf,t=this.state.outline;if(!e||!t)return null;var n=this.props,r=n.className,a=n.inputRef;return g.createElement("div",(0,o.Z)({className:(0,Z.Z)("react-pdf__Outline",r),ref:a},this.eventProps),g.createElement(ce.Provider,{value:this.childContext},this.renderOutline()))}}]),n}(g.PureComponent);function ye(e,t){return g.createElement(k.Consumer,null,(function(n){return g.createElement(ve,(0,o.Z)({ref:t},n,e))}))}ve.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:W,inputRef:Q,onItemClick:v().func,onLoadError:v().func,onLoadSuccess:v().func,pdf:J},U);var me=g.forwardRef(ye),Ze=n(2324),Re=(0,g.createContext)(null);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var ke=r.AnnotationMode,Ee=function(e){(0,l.Z)(n,e);var t=be(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"canvasElement",(0,g.createRef)()),(0,d.Z)((0,s.Z)(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,o=t.scale;n&&n(F(r,o))})),(0,d.Z)((0,s.Z)(e),"onRenderError",(function(t){if(!M(t)){(0,b.Z)(t);var n=e.props.onRenderError;n&&n(t)}})),(0,d.Z)((0,s.Z)(e),"drawPageOnCanvas",(function(){var t=e.canvasElement.current;if(!t)return null;var n=(0,s.Z)(e),r=n.renderViewport,o=n.viewport,a=e.props,i=a.canvasBackground,c=a.page,u=a.renderForms;t.width=r.width,t.height=r.height,t.style.width="".concat(Math.floor(o.width),"px"),t.style.height="".concat(Math.floor(o.height),"px");var l={annotationMode:u?ke.ENABLE_FORMS:ke.ENABLE,get canvasContext(){return t.getContext("2d",{alpha:!1})},viewport:r};i&&(l.background=i),e.cancelRenderingTask();var f=c.render(l);return e.renderer=f,f.promise.then(e.onRenderSuccess).catch(e.onRenderError)})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasBackground,r=t.devicePixelRatio,o=t.page,a=t.renderForms;n===e.canvasBackground&&r===e.devicePixelRatio&&a===e.renderForms||(o.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var e=this.canvasElement.current;e&&(e.width=0,e.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){return this.props.devicePixelRatio||O&&window.devicePixelRatio||1}},{key:"renderViewport",get:function(){var e=this.devicePixelRatio,t=this.props,n=t.page,r=t.rotate,o=t.scale;return n.getViewport({scale:o*e,rotation:r})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this.props.canvasRef;return g.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:(0,Ze.Z)(e,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),n}(g.PureComponent);function Pe(e){return g.createElement(Re.Consumer,null,(function(t){return g.createElement(Ee,(0,o.Z)({},t,e))}))}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}Ee.propTypes={canvasBackground:v().string,canvasRef:Q,devicePixelRatio:v().number,onRenderError:v().func,onRenderSuccess:v().func,page:z.isRequired,renderForms:v().bool,rotate:$,scale:v().number.isRequired};var xe=function(e){(0,l.Z)(n,e);var t=we(n);function n(){var e;(0,c.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.Z)((0,s.Z)(e),"state",{svg:null}),(0,d.Z)((0,s.Z)(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,o=t.scale;n&&n(F(r,o))})),(0,d.Z)((0,s.Z)(e),"onRenderError",(function(t){if(!M(t)){(0,b.Z)(t);var n=e.props.onRenderError;n&&n(t)}})),(0,d.Z)((0,s.Z)(e),"renderSVG",(function(){var t=e.props.page;return e.renderer=t.getOperatorList(),e.renderer.then((function(n){var o=new r.SVGGraphics(t.commonObjs,t.objs);e.renderer=o.getSVG(n,e.viewport).then((function(t){e.setState({svg:t},e.onRenderSuccess)})).catch(e.onRenderError)})).catch(e.onRenderError)})),(0,d.Z)((0,s.Z)(e),"drawPageOnContainer",(function(t){var n=e.state.svg;if(t&&n){t.firstElementChild||t.appendChild(n);var r=e.viewport,o=r.width,a=r.height;n.setAttribute("width",o),n.setAttribute("height",a)}})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,t=this.viewport,n=t.width,r=t.height;return g.createElement("div",{className:"react-pdf__Page__svg",ref:function(t){return e.drawPageOnContainer(t)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:n,height:r,userSelect:"none"}})}}]),n}(g.PureComponent);function Oe(e){return g.createElement(Re.Consumer,null,(function(t){return g.createElement(xe,(0,o.Z)({},t,e))}))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}xe.propTypes={onRenderError:v().func,onRenderSuccess:v().func,page:z.isRequired,rotate:$,scale:v().number.isRequired};var Te=function(e){(0,l.Z)(n,e);var t=Le(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"state",{textContent:null}),(0,d.Z)((0,s.Z)(e),"layerElement",(0,g.createRef)()),(0,d.Z)((0,s.Z)(e),"endElement",(0,g.createRef)()),(0,d.Z)((0,s.Z)(e),"loadTextContent",(function(){var t=e.props.page,n=(0,m.Z)(t.getTextContent());e.runningTask=n,n.promise.then((function(t){e.setState({textContent:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),(0,d.Z)((0,s.Z)(e),"onLoadSuccess",(function(){var t=e.props.onGetTextSuccess,n=e.state.textContent;t&&t(n)})),(0,d.Z)((0,s.Z)(e),"onLoadError",(function(t){e.setState({textItems:!1}),(0,b.Z)(t);var n=e.props.onGetTextError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"onRenderSuccess",(function(){var t=e.props.onRenderTextLayerSuccess;t&&t()})),(0,d.Z)((0,s.Z)(e),"onRenderError",(function(t){(0,b.Z)(t);var n=e.props.onRenderTextLayerError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"onMouseDown",(function(){var t=e.endElement.current;t&&t.classList.add("active")})),(0,d.Z)((0,s.Z)(e),"onMouseUp",(function(){var t=e.endElement.current;t&&t.classList.remove("active")})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.page;(0,R.Z)(e,"Attempted to load page text content, but no page was specified."),(0,b.Z)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;e.page&&t!==e.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){B(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,n=e.scale;return t.getViewport({scale:n})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}},{key:"renderTextLayer",value:function(){var e=this,t=this.state.textContent;if(!t)return null;var n=this.layerElement.current,o=this.viewport,a=this.props,i=a.customTextRenderer,c=a.pageIndex,u=a.pageNumber;B(this.runningTask),n.innerHTML="";var s={container:n,textContent:t,viewport:o},l=r.renderTextLayer(s);this.runningTask=l,l.promise.then((function(){var r=document.createElement("div");if(r.className="endOfContent",n.append(r),e.endElement.current=r,i){var o=0;t.items.forEach((function(t,n){var r=e.layerElement.current.children[o],a=i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pageIndex:c,pageNumber:u,itemIndex:n},t));r.innerHTML=a,o+=t.str&&t.hasEOL?2:1}))}e.onRenderSuccess()})).catch((function(t){e.onRenderError(t)}))}},{key:"render",value:function(){return g.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),n}(g.PureComponent);function Ce(e){return g.createElement(Re.Consumer,null,(function(t){return g.createElement(Te,(0,o.Z)({},t,e))}))}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}Te.propTypes={customTextRenderer:v().func,onGetTextError:v().func,onGetTextSuccess:v().func,onRenderTextLayerError:v().func,onRenderTextLayerSuccess:v().func,page:z.isRequired,pageIndex:v().number.isRequired,pageNumber:v().number.isRequired,rotate:$,scale:v().number};var Ae=function(e){(0,l.Z)(n,e);var t=De(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"state",{annotations:null}),(0,d.Z)((0,s.Z)(e),"layerElement",(0,g.createRef)()),(0,d.Z)((0,s.Z)(e),"loadAnnotations",(function(){var t=e.props.page,n=(0,m.Z)(t.getAnnotations());e.runningTask=n,n.promise.then((function(t){e.setState({annotations:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),(0,d.Z)((0,s.Z)(e),"onLoadSuccess",(function(){var t=e.props.onGetAnnotationsSuccess,n=e.state.annotations;t&&t(n)})),(0,d.Z)((0,s.Z)(e),"onLoadError",(function(t){e.setState({annotations:!1}),(0,b.Z)(t);var n=e.props.onGetAnnotationsError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"onRenderSuccess",(function(){var t=e.props.onRenderAnnotationLayerSuccess;t&&t()})),(0,d.Z)((0,s.Z)(e),"onRenderError",(function(t){(0,b.Z)(t);var n=e.props.onRenderAnnotationLayerError;n&&n(t)})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.page;(0,R.Z)(e,"Attempted to load page annotations, but no page was specified."),(0,b.Z)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,r=t.renderForms;(e.page&&n!==e.page||r!==e.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){B(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var e=this.state.annotations;if(e){var t=this.props,n=t.imageResourcesPath,o=t.linkService,a=t.page,i=t.renderForms,c=this.viewport.clone({dontFlip:!0}),u={annotations:e,div:this.layerElement.current,imageResourcesPath:n,linkService:o,page:a,renderForms:i,viewport:c};this.layerElement.current.innerHTML="";try{r.AnnotationLayer.render(u),this.onRenderSuccess()}catch(e){this.onRenderError(e)}}}},{key:"render",value:function(){return g.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),n}(g.PureComponent);Ae.propTypes={imageResourcesPath:v().string,linkService:Y.isRequired,onGetAnnotationsError:v().func,onGetAnnotationsSuccess:v().func,onRenderAnnotationLayerError:v().func,onRenderAnnotationLayerSuccess:v().func,page:z,renderForms:v().bool,rotate:$,scale:v().number};var je=function(e){return g.createElement(k.Consumer,null,(function(t){return g.createElement(Re.Consumer,null,(function(n){return g.createElement(Ae,(0,o.Z)({},t,n,e))}))}))};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var Be=function(e){(0,l.Z)(n,e);var t=_e(n);function n(){var e;(0,c.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"state",{page:null}),(0,d.Z)((0,s.Z)(e),"pageElement",(0,g.createRef)()),(0,d.Z)((0,s.Z)(e),"onLoadSuccess",(function(){var t=e.props,n=t.onLoadSuccess,r=t.registerPage,o=e.state.page;n&&n(F(o,e.scale)),r&&r(e.pageIndex,e.pageElement.current)})),(0,d.Z)((0,s.Z)(e),"onLoadError",(function(t){e.setState({page:!1}),(0,b.Z)(t);var n=e.props.onLoadError;n&&n(t)})),(0,d.Z)((0,s.Z)(e),"loadPage",(function(){var t=e.props.pdf,n=e.getPageNumber();if(n){e.setState((function(e){return e.page?{page:null}:null}));var r=(0,m.Z)(t.getPage(n));e.runningTask=r,r.promise.then((function(t){e.setState({page:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))}})),e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.pdf;(0,R.Z)(e,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;if(e.pdf&&t!==e.pdf||this.getPageNumber()!==this.getPageNumber(e)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(e)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterPage;e&&e(this.pageIndex),B(this.runningTask)}},{key:"childContext",get:function(){var e=this.pageIndex,t=this.pageNumber,n=this.state.page;if(!n)return{};var r=this.props,o=r.canvasBackground,a=r.customTextRenderer,i=r.devicePixelRatio,c=r.onGetAnnotationsError,u=r.onGetAnnotationsSuccess,s=r.onGetTextError,l=r.onGetTextSuccess,f=r.onRenderAnnotationLayerError,p=r.onRenderAnnotationLayerSuccess,d=r.onRenderError,g=r.onRenderSuccess,h=r.onRenderTextLayerError,v=r.onRenderTextLayerSuccess,y=r.renderForms,m=r.renderInteractiveForms;return{canvasBackground:o,customTextRenderer:a,devicePixelRatio:i,onGetAnnotationsError:c,onGetAnnotationsSuccess:u,onGetTextError:s,onGetTextSuccess:l,onRenderAnnotationLayerError:f,onRenderAnnotationLayerSuccess:p,onRenderError:d,onRenderSuccess:g,onRenderTextLayerError:h,onRenderTextLayerSuccess:v,page:n,pageIndex:e,pageNumber:t,renderForms:null!=y?y:m,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return T(e.pageNumber)?e.pageNumber-1:T(e.pageIndex)?e.pageIndex:null}},{key:"getPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return T(e.pageNumber)?e.pageNumber:T(e.pageIndex)?e.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var e=this.props.rotate;if(T(e))return e;var t=this.state.page;return t?t.rotate:null}},{key:"scale",get:function(){var e=this.state.page;if(!e)return null;var t=this.props,n=t.scale,r=t.width,o=t.height,a=this.rotate,i=1,c=null===n?1:n;if(r||o){var u=e.getViewport({scale:1,rotation:a});i=r?r/u.width:o/u.height}return c*i}},{key:"eventProps",get:function(){var e=this;return(0,y.ZP)(this.props,(function(){var t=e.state.page;return t?F(t,e.scale):t}))}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var e=this.props,t=e.canvasRef;switch(e.renderMode){case"none":return null;case"svg":return g.createElement(Oe,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return g.createElement(Pe,{key:"".concat(this.pageKey,"_canvas"),canvasRef:t})}}},{key:"renderTextLayer",value:function(){var e=this.props.renderTextLayer;return e?g.createElement(Ce,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var e=this.props.renderAnnotationLayer;return e?g.createElement(je,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return g.createElement(Re.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,t=this.props.pdf,n=this.state.page;if(!e){var r=this.props.noData;return g.createElement(E,{type:"no-data"},"function"==typeof r?r():r)}if(null===t||null===n){var o=this.props.loading;return g.createElement(E,{type:"loading"},"function"==typeof o?o():o)}if(!1===t||!1===n){var a=this.props.error;return g.createElement(E,{type:"error"},"function"==typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var e=this.pageNumber,t=this.props,n=t.className,r=t.inputRef;return g.createElement("div",(0,o.Z)({className:(0,Z.Z)("react-pdf__Page",n),"data-page-number":e,ref:(0,Ze.Z)(r,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),n}(g.PureComponent);Be.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:1};var Fe=v().oneOfType([v().func,v().node]);function Me(e,t){return g.createElement(k.Consumer,null,(function(n){return g.createElement(Be,(0,o.Z)({ref:t},n,e))}))}Be.propTypes=Ie(Ie({},U),{},{canvasBackground:v().string,children:v().node,className:W,customTextRenderer:v().func,devicePixelRatio:v().number,error:Fe,height:v().number,imageResourcesPath:v().string,inputRef:Q,loading:Fe,noData:Fe,onGetTextError:v().func,onGetTextSuccess:v().func,onLoadError:v().func,onLoadSuccess:v().func,onRenderError:v().func,onRenderSuccess:v().func,onRenderTextLayerError:v().func,onRenderTextLayerSuccess:v().func,pageIndex:function(e,t,n){var r=e[t],o=e.pageNumber,a=e.pdf;if(!L(a))return null;if(L(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat((0,i.Z)(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var c=a.numPages;if(r+1>c)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(c-1,"."))}else if(!L(o))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){var r=e[t],o=e.pageIndex,a=e.pdf;if(!L(a))return null;if(L(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat((0,i.Z)(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var c=a.numPages;if(r>c)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(c,"."))}else if(!L(o))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:J,registerPage:v().func,renderAnnotationLayer:v().bool,renderForms:v().bool,renderInteractiveForms:v().bool,renderMode:X,renderTextLayer:v().bool,rotate:$,scale:v().number,unregisterPage:v().func,width:v().number});var Ve=g.forwardRef(Me);(0,b.Z)(!S,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(I)),r.GlobalWorkerOptions.workerSrc="pdf.worker.js"}}]);